@using DirectoryManager.Web.Constants;

@{
    ViewData["Title"] = "Unsubscribe";
}

@{
    Layout = "_CenteredLayout";
}

@section PageContent {

<h1>@ViewData[StringConstants.TitleHeader]</h1>

@if (string.IsNullOrWhiteSpace(Model))
{
    <p>Please enter your email to unsubscribe</p>

    @if (!ViewData.ModelState.IsValid)
    {
        <div class="alert alert-danger">
            @Html.ValidationSummary()
        </div>
    }
    <form asp-controller="EmailSubscription" asp-action="Unsubscribe" method="post" class="form-inline">

        <input name="formEmail" type="email" id="inlineFormInput" placeholder="yourname@email.com" required>

        <button type="submit" class="btn btn-success">Unsubscribe</button>
    </form>
}
else
{
    <p>The email <strong>@Model</strong> has been successfully unsubscribed.</p>
}
}