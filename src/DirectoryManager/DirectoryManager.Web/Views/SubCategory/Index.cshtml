@using DirectoryManager.Data.Models
@model IEnumerable<SubCategory>

<form method="get">
    <label for="categoryFilter">Filter by Category: </label>
    <select id="categoryFilter" name="categoryId" onchange="this.form.submit()">
        <option value="">--Select a Category--</option>
        @foreach (var category in (IEnumerable<Category>)ViewBag.Categories)
        {
            <option value="@category.Id">@category.Name</option>
        }
    </select>
</form>

@foreach (var subCategory in Model)
{
    <div>@subCategory.Name - Parent Category: @subCategory.Category.Name</div>
    <a href="@Url.Action("Edit", new { id = subCategory.Id })">Edit</a>
    <a href="@Url.Action("Delete", new { id = subCategory.Id })" onclick="return confirm('Are you sure?')">Delete</a>
}

<a href="@Url.Action("Create")">Create New SubCategory</a>
